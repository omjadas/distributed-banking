@startuml P2P Bank
class Main {
    + Main()
    + {static} void main(String[] args)
    + void run()
}

class Bank {
    + Bank()
    + void register(String[] accountIds, RemoteBank bank)
    + void deposit(String accountId, int amount)
    + void withdraw(String accountId, int amount)
    + void transfer(String sourceId, String destId, int amount)
    + int getBalance(String accountId)
    + void run()
}

class RemoteBank {
    - String hostname
    - String[] accountIds
    + RemoteBank(String hostname)
    + String[] getAccountIds()
    + void deposit(String account, int amount)
    + void withdraw(String account, int amount)
    + int getBalance(String account)
}

class Account {
    - String accountId
    - int balance
    + Account()
    + void deposit(int amount)
    + void withdraw(int amount)
    + String getAccountId()
    + int getBalance()
}

interface java.lang.Runnable
interface Snapshot

Main ..* "1" Bank : - bank
Main ..|> java.lang.Runnable

Bank --* "1" java.net.ServerSocket : - serverSocket
Bank --* "0..*" Account : - localAccounts
Bank "[String accountId]" --* "1..*" RemoteBank : - remoteAccounts
Bank ..|> java.lang.Runnable

RemoteBank --* "1" java.net.Socket : - socket

@enduml